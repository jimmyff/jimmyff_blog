<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Building a web app, the progressive way | jimmyff</title><meta name=keywords content="dart,web,eurovision,app"><meta name=description content="And finding an unconventional solution to a challenging objective
(I&rsquo;ve also posted this article over on Medium.)
As a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:"><meta name=author content><link rel=canonical href=https://www.jimmyff.co.uk/blog/2018-06-25-building-a-web-app-the-progressive-way/><link crossorigin=anonymous href=/assets/css/stylesheet.ceade966d9739841f96b33abaa2bbdfb71b182a35414c555c1a8042c250c4269.css integrity="sha256-zq3pZtlzmEH5azOrqiu9+3GxgqNUFMVVwagELCUMQmk=" rel="preload stylesheet" as=style><link rel=icon href=https://www.jimmyff.co.uk/images/rainbow.png><link rel=icon type=image/png sizes=16x16 href=https://www.jimmyff.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.jimmyff.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://www.jimmyff.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://www.jimmyff.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-71ZN1D4H6Q"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-71ZN1D4H6Q",{anonymize_ip:!1})}</script><meta property="og:title" content="Building a web app, the progressive way"><meta property="og:description" content="And finding an unconventional solution to a challenging objective
(I&rsquo;ve also posted this article over on Medium.)
As a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:"><meta property="og:type" content="article"><meta property="og:url" content="https://www.jimmyff.co.uk/blog/2018-06-25-building-a-web-app-the-progressive-way/"><meta property="og:image" content="https://www.jimmyff.co.uk/papermod-cover.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2018-06-25T00:00:00+00:00"><meta property="article:modified_time" content="2018-06-25T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jimmyff.co.uk/papermod-cover.png"><meta name=twitter:title content="Building a web app, the progressive way"><meta name=twitter:description content="And finding an unconventional solution to a challenging objective
(I&rsquo;ve also posted this article over on Medium.)
As a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://www.jimmyff.co.uk/blog/"},{"@type":"ListItem","position":2,"name":"Building a web app, the progressive way","item":"https://www.jimmyff.co.uk/blog/2018-06-25-building-a-web-app-the-progressive-way/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Building a web app, the progressive way","name":"Building a web app, the progressive way","description":"And finding an unconventional solution to a challenging objective\n(I\u0026rsquo;ve also posted this article over on Medium.)\nAs a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:","keywords":["dart","web","eurovision","app"],"articleBody":"And finding an unconventional solution to a challenging objective\n(I’ve also posted this article over on Medium.)\nAs a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:\nIt should utilise the very latest and greatest web technology. It should contain Eurovision Song Contests historic results and the information should be available in the most used languages in Europe. The data must be easy to maintain (this was the tricky bit!). Tldr: Here’s the app (as of 2020 I’ve retired this version in favour of my newer flutter app) I built and below are the details of how I put it together \u0026 the challenge I encountered, video demo at the bottom.\nA progressive app and a progressive attitude ‘Progressive Web Apps’ (or ‘PWAs’) are essentially shining exemplars of modern web technologies. They feel more like native apps than they do their creaky website ancestors. PWAs have the ability to work offline, be installed on your devices, and even receive push notifications. I’m a huge advocate of PWAs and I’ve done talks on the subject for my local tech community.\nOver the last year a large part of my everyday work has been building a large PWA to replace a complex established website. For my new Eurovision pet-project I wanted something much leaner and simpler. As well as building the app as PWA, I would challenge myself to approach every decision from the UI to the back-end with a modern progressive attitude. A progressive language \u0026 framework\nMy language of choice is Dart. It’s strongly typed, fully object orientated and a language that makes me really productive. For web it compiles down to JavaScript. You can even use it to build native mobile apps with Flutter or run Dart on your server or development machine using the Dart VM -it’s the genuine holy grail!\nFor the framework I chose Angular Dart, it’s a great framework that allows you to build robust and sophisticated web apps in a structured and opinionated way. I utilised ‘angular_components’ which are the same battle-hardened material design components that Google use on their own products. I also used the ‘intl’ library which allowed me to extract the text into dictionary files which could then be translated in to various languages.\nBackend as a service In keeping with the progressive philosophy I chose Firebase for the backend. Firebase is a fully managed platform for building applications, these kind of platforms are often referred to as ‘backend as a service’ (‘baas’). With a solution like this, the jobs that traditional servers would do are broken down in to numerous services and you simply pay for what you use. It’s a really hassle-free, modern \u0026 progressive approach to application infrastructure and I love it!\nThe challenge of maintaining the data The biggest challenge I faced building this app was how to maintain the data. I really wanted a simple and elegant solution to updating the app but my choice of database-technology made this tricky. As I was using the Firebase backend I choose to use its new fancy Firestore database, however this is a ‘NoSQL’ datastore that doesn’t allow realtime complex querying or aggregating of data across relationships. I would be storing data that has lots of relationships and needed lots of aggregated statistics. Ideally I‘d use a relational database for this kind of dataset but as my objective was to be modern, simple and progressive, I really wanted to avoid the traditional database+server combo.\nUsing Firestore meant I would need to compute all the relationships in my data ahead of time and cache these relationship \u0026 aggregated values in my data objects. Doing this also makes updating the data challenging as changing one object would likely have knock on effects to other objects that held a cache of the modified data.\nA frugal solution The solution I came up with to maintain the data was to export it all to a Google Spreadsheet (yes …you read that correctly) and this would become my ‘source of truth’. Using the Spreadsheet I could then rebuild my database whenever required. I essentially use Firestore as a glorified cache. It feels like an unconventional yet rather elegant solution. Here’s is a breakdown of the build process:\nDownload the CSV files from the Google spreadsheet. Using the CSV files rebuild all the objects. From ‘Firebase Cloud Storage’ download the current snapshot of all the objects that are currently stored in the database. Diff the newly built objects with the downloaded database snapshot. Prompt the user with a summary of changes asking them if they wish to apply these changes. Apply the diff to the Firestore database. Upload the newly built objects to ‘Firebase Cloud Storage’ as the latest database snapshot. This will be used next time the build process is run. I love this solution for the following reasons:\nI didn’t have to write loads of data-management code: logic, forms, validation etc. I just setup some validation rules and conditional formatting on the spreadsheet. This left my codebase nice, clean and simple. Rebuilding from scratch every time inadvertently solves one of my main gripes with NoSQL data stores: when you refactor your data structures you can end up with inconsistencies across a collection due to the lack of collection-wide schemas. This mitigates the problem by simply patching any changes you make across the entire dataset. The thing that blows my mind is that this runs in the client browser (as there is no conventional server in this equation). It feels like only a short-while ago that browsers would struggle to do anything complex client-side and now they’re capable compiling thousands of objects from a remote collection of CSVs, diffing, patching then reuploading without even breaking a sweat. The entire process takes seconds to run and it builds and diffs over 3,000 objects. It also feels a really simple, efficient \u0026 frugal solution to harness the processing power of the administrators device \u0026 browser. The finished app You can try the finished app here (as of 2020 I’ve retired this version in favour of my newer flutter app). It’s been so much fun to approach a project with a progressive attitude and a fresh set of eyes. I enjoyed it so much I’ll continue to develop the app (and I have some great ideas for it). I also plan to do more projects like this over the next 12 months so watch this space!\n","wordCount":"1112","inLanguage":"en","datePublished":"2018-06-25T00:00:00Z","dateModified":"2018-06-25T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jimmyff.co.uk/blog/2018-06-25-building-a-web-app-the-progressive-way/"},"publisher":{"@type":"Organization","name":"jimmyff","logo":{"@type":"ImageObject","url":"https://www.jimmyff.co.uk/images/rainbow.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.jimmyff.co.uk/ accesskey=h title="jimmyff (Alt + H)"><img src=https://www.jimmyff.co.uk/images/rainbow.png alt aria-label=logo height=24>jimmyff</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.jimmyff.co.uk/blog/ title=blog><span>blog</span></a></li><li><a href=https://www.jimmyff.co.uk/art/ title=gallery><span>gallery</span></a></li><li><a href=https://www.jimmyff.co.uk/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.jimmyff.co.uk/>Home</a>&nbsp;»&nbsp;<a href=https://www.jimmyff.co.uk/blog/>Blog</a></div><h1 class=post-title>Building a web app, the progressive way</h1><div class=post-meta><span title='2018-06-25 00:00:00 +0000 UTC'>June 25, 2018</span></div></header><div class=post-content><p><strong>And finding an unconventional solution to a challenging objective</strong></p><p>(<em>I&rsquo;ve also posted this article <a href=https://medium.com/@jimmyff/building-a-web-app-the-progressive-way-e81177e95738>over on Medium</a>.</em>)</p><p>As a passionate developer I’m aways juggling side projects alongside my pay-the-bills work. Earlier this year I secured some great tickets to the Eurovision Song Contest and in the excitement I decided to build a modern web app to explore and discover the history of the annual show. I set myself some objectives:</p><ul><li>It should utilise the very latest and greatest web technology.</li><li>It should contain Eurovision Song Contests historic results and the information should be available in the most used languages in Europe.</li><li>The data must be easy to maintain (this was the tricky bit!).</li></ul><p><em>Tldr: <del>Here’s the app</del> (as of 2020 I&rsquo;ve retired this version in favour of my newer flutter app) I built and below are the details of how I put it together & the challenge I encountered, video demo at the bottom.</em></p><p><img loading=lazy src=eurovision_app.webp alt=WEBP title="The finished app"></p><h2 id=a-progressive-app-and-a-progressive-attitude>A progressive app and a progressive attitude<a hidden class=anchor aria-hidden=true href=#a-progressive-app-and-a-progressive-attitude>#</a></h2><p>‘Progressive Web Apps’ (or ‘PWAs’) are essentially shining exemplars of modern web technologies. They feel more like native apps than they do their creaky website ancestors. PWAs have the ability to work offline, be installed on your devices, and even receive push notifications. I’m a huge advocate of PWAs and I’ve done talks on the subject for my local tech community.</p><p>Over the last year a large part of my everyday work has been building a large PWA to replace a complex established website. For my new Eurovision pet-project I wanted something much leaner and simpler. As well as building the app as PWA, I would challenge myself to approach every decision from the UI to the back-end with a modern progressive attitude.
A progressive language & framework</p><p>My language of choice is Dart. It’s strongly typed, fully object orientated and a language that makes me really productive. For web it compiles down to JavaScript. You can even use it to build native mobile apps with Flutter or run Dart on your server or development machine using the Dart VM -it’s the genuine holy grail!</p><p>For the framework I chose Angular Dart, it’s a great framework that allows you to build robust and sophisticated web apps in a structured and opinionated way. I utilised ‘angular_components’ which are the same battle-hardened material design components that Google use on their own products. I also used the ‘intl’ library which allowed me to extract the text into dictionary files which could then be translated in to various languages.</p><h2 id=backend-as-a-service>Backend as a service<a hidden class=anchor aria-hidden=true href=#backend-as-a-service>#</a></h2><p>In keeping with the progressive philosophy I chose Firebase for the backend. Firebase is a fully managed platform for building applications, these kind of platforms are often referred to as ‘backend as a service’ (‘baas’). With a solution like this, the jobs that traditional servers would do are broken down in to numerous services and you simply pay for what you use. It’s a really hassle-free, modern & progressive approach to application infrastructure and I love it!</p><h2 id=the-challenge-of-maintaining-the-data>The challenge of maintaining the data<a hidden class=anchor aria-hidden=true href=#the-challenge-of-maintaining-the-data>#</a></h2><p>The biggest challenge I faced building this app was how to maintain the data. I really wanted a simple and elegant solution to updating the app but my choice of database-technology made this tricky. As I was using the Firebase backend I choose to use its new fancy Firestore database, however this is a ‘NoSQL’ datastore that doesn’t allow realtime complex querying or aggregating of data across relationships. I would be storing data that has lots of relationships and needed lots of aggregated statistics. Ideally I‘d use a relational database for this kind of dataset but as my objective was to be modern, simple and progressive, I really wanted to avoid the traditional database+server combo.</p><p>Using Firestore meant I would need to compute all the relationships in my data ahead of time and cache these relationship & aggregated values in my data objects. Doing this also makes updating the data challenging as changing one object would likely have knock on effects to other objects that held a cache of the modified data.</p><h2 id=a-frugal-solution>A frugal solution<a hidden class=anchor aria-hidden=true href=#a-frugal-solution>#</a></h2><p>The solution I came up with to maintain the data was to export it all to a Google Spreadsheet (yes …you read that correctly) and this would become my ‘source of truth’. Using the Spreadsheet I could then rebuild my database whenever required. I essentially use Firestore as a glorified cache. It feels like an unconventional yet rather elegant solution. Here’s is a breakdown of the build process:</p><ol><li>Download the CSV files from the Google spreadsheet.</li><li>Using the CSV files rebuild all the objects.</li><li>From ‘Firebase Cloud Storage’ download the current snapshot of all the objects that are currently stored in the database.</li><li>Diff the newly built objects with the downloaded database snapshot.</li><li>Prompt the user with a summary of changes asking them if they wish to apply these changes.</li><li>Apply the diff to the Firestore database.</li><li>Upload the newly built objects to ‘Firebase Cloud Storage’ as the latest database snapshot. This will be used next time the build process is run.</li></ol><p>I love this solution for the following reasons:</p><ul><li>I didn’t have to write loads of data-management code: logic, forms, validation etc. I just setup some validation rules and conditional formatting on the spreadsheet. This left my codebase nice, clean and simple.</li><li>Rebuilding from scratch every time inadvertently solves one of my main gripes with NoSQL data stores: when you refactor your data structures you can end up with inconsistencies across a collection due to the lack of collection-wide schemas. This mitigates the problem by simply patching any changes you make across the entire dataset.</li><li>The thing that blows my mind is that this runs in the client browser (as there is no conventional server in this equation). It feels like only a short-while ago that browsers would struggle to do anything complex client-side and now they’re capable compiling thousands of objects from a remote collection of CSVs, diffing, patching then reuploading without even breaking a sweat. The entire process takes seconds to run and it builds and diffs over 3,000 objects. It also feels a really simple, efficient & frugal solution to harness the processing power of the administrators device & browser.</li></ul><h2 id=the-finished-app>The finished app<a hidden class=anchor aria-hidden=true href=#the-finished-app>#</a></h2><div class=youtube><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube-nocookie.com/embed/-MPWaxSBLPo style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div><p><del>You can try the finished app here</del> (as of 2020 I&rsquo;ve retired this version in favour of my newer flutter app). It’s been so much fun to approach a project with a progressive attitude and a fresh set of eyes. I enjoyed it so much I’ll continue to develop the app (and I have some great ideas for it). I also plan to do more projects like this over the next 12 months so watch this space!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.jimmyff.co.uk/tags/dart/>dart</a></li><li><a href=https://www.jimmyff.co.uk/tags/web/>web</a></li><li><a href=https://www.jimmyff.co.uk/tags/eurovision/>eurovision</a></li><li><a href=https://www.jimmyff.co.uk/tags/app/>app</a></li></ul><nav class=paginav><a class=prev href=https://www.jimmyff.co.uk/art/2019-01-30-textured_pots/><span class=title>« Prev</span><br><span>Textured pots</span></a>
<a class=next href=https://www.jimmyff.co.uk/blog/2017-07-17-the-many-beautiful-worlds-of-cellular-automata/><span class=title>Next »</span><br><span>The many beautiful worlds of Cellular Automata</span></a></nav></footer></article></main><footer class=footer><span>© Jimmy Forrester-Fellowes</span><ul id=footer_menu><li><a href=https://www.jimmyff.co.uk/archives title=Archive><span>Archive</span></a></li><li><a href=https://www.jimmyff.co.uk/tags/ title=Tags><span>Tags</span></a></li></ul></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>